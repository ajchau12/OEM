# ripped from dashboard
name: lvbms
# subscribe:
# - name: brakelight
#   mob: 1
# - name: bms_core
#   mob: 2 
# - name: air_control_critical
#   mob: 3 
# - name: throttle
#   mob: 4 

publish:
  - name: lvbms
    id: 0x70
    freq_hz: 1
    signals:
    - name: fault_code
      slice: 0 + 8
      unit:
        type: enum
        values:
          - FAULT_NONE
          - THERM_0_FAULT
          - THERM_1_FAULT
          - THERM_2_FAULT
          - THERM_3_FAULT
          - THERM_4_FAULT
          - THERM_5_FAULT
          - OV_FAULT
          - UV_FAULT
          - OC_FAULT
          - OPEN_CIRCUIT_FAULT
          - PEC_FAULT
          - COMPARATOR_FAULT
    - name: pack_soc
      slice: 8 + 16
      unit: 
        type: uint16_t
        name: Volts
        offset: 0
        scale: 1
    - name: pec_error_count
      slice: 24 + 8
      unit: 
        type: int8_t
        name: PEC_errors
        offset: 0
        scale: 1
  # # - name: lvbms_aux_1
  #   id: 0x71
  #   freq_hz: 1
  #   signals:
    - name: temp_0
      slice: 32 + 16
      unit:
        type: uint16_t
        name: V
        offset: 0 
        scale: .00488
    # - name: pec
    #   slice: 32 + 8
    #     unit:
    #       type: int8_t
    #       name: err_code
    #       offset: 0 
    #       scale: 1
    # - name: temp_1
    #   slice: 16 + 16
    #   unit: 
    #     type: uint16_t
    #     name: V
    #     offset: 0
    #     scale: 1
# will need more aux for THERM2-5, CURR_SNS, other data? 